import{c as z,u as h,d as w,m as y,e as A,g as b,f as G,s as L,a as S,D as J,l as Q,q as N,T as V}from"./vendor.e0c45427.js";import{c as X,r as Y,m as Z,u as _,a as ee}from"./store.b4ef7dcb.js";import{u as te}from"./ssr.7123efb6.js";import{j,S as P,k as ne,m as F,g as K,B as oe,d as re}from"./index.9731a100.js";const D=z(null),se=()=>{};function ae(t={}){const e=h(D),[s,c]=w(),[n,f]=w(!1),[p,m]=X({}),a=y({fixed:!1,popperConfig:{},usePopper:!!e},t),g=A(()=>e?.show==null?!!a.show:e.show);b(()=>{g()&&!n()&&f(!0)}),G(()=>{m(Y(Z({placement:a.placement||e?.placement||"bottom-start",enabled:a.usePopper??!!e,enableEvents:a.enableEventListeners==null?g():a.enableEventListeners,offset:a.offset,flip:a.flip,fixed:a.fixed,arrowElement:s(),popperConfig:a.popperConfig})))});const E=v=>{e?.toggle(!1,v)},d=_(()=>e?.toggleElement,()=>e?.menuElement,p);return b(()=>{e?.menuElement&&ee(()=>e.menuElement,E,{get clickTrigger(){return a.rootCloseEvent},get disabled(){return!g()}})}),[y({get ref(){return e?.setMenu||se},get style(){return d()?.styles.popper},get"aria-labelledby"(){return e?.toggleElement?.id}},d()?.attributes.popper??{}),{get show(){return g()},get placement(){return e?.placement},get hasShown(){return n()},get toggle(){return e?.toggle},get popper(){return a.usePopper?d():null},get arrowProps(){return a.usePopper?{ref:c,...d()?.attributes.arrow,style:d()?.styles.arrow}:{}}}]}const le={usePopper:!0};function T(t){const[e,s]=L(t,["children"]),[c,n]=ae(s);return()=>e.children(c,n)}T.displayName="DropdownMenu";T.defaultProps=le;const O=t=>t.getAttribute("role")?.toLowerCase()==="menu",ce=()=>{};function ue(){const t=te(),e=h(D);return[{id:t,get ref(){return e.setToggle||ce},onClick:c=>{e.toggle(!e.show,c)},get"aria-expanded"(){return!!e.show},get"aria-haspopup"(){return e.menuElement&&O(e.menuElement)?!0:void 0}},{get show(){return e.show},get toggle(){return e.toggle}}]}function H({children:t}){const[e,s]=ue();return()=>t(e,s)}H.displayName="DropdownToggle";function ie(t){const e=h(P),s=h(ne),{activeKey:c}=s||{},n=F(t.key,t.href),f=A(()=>t.active==null&&t.key!=null?F(c)===n:t.active);return[{onClick:m=>{if(t.disabled)return;let a=K(t.onClick,m);e&&!a.isPropagationStopped&&e(n,m)},get"aria-disabled"(){return t.disabled||void 0},get"aria-selected"(){return f()},[j("dropdown-item")]:""},{get isActive(){return f()}}]}const $=t=>{const[e,s]=L(y({as:oe},t),["eventKey","disabled","onClick","active","as"]),[c]=ie({get key(){return e.eventKey},get href(){return s.href},get disabled(){return e.disabled},get onClick(){return e.onClick},get active(){return e.active}});return S(J,y({get component(){return e.as}},s,c))};$.displayName="DropdownItem";function C(t){const e=y({itemSelector:`* [${j("dropdown-item")}]`,placement:"bottom-start"},t),[s,c]=re(()=>e.show,()=>e.defaultShow,e.onToggle),[n,f]=w(),[p,m]=w(),[a,g]=w(null),[E,d]=w(!1),I=h(P),k=(o,r,l=r?.type)=>{c(o,{originalEvent:r,source:l})},v=(o,r)=>{K(i=>{e.onSelect?.(o,i),k(!1,i,"select")},r).isPropagationStopped||I?.(o,r)},q={toggle:k,setMenu:f,setToggle:m,get placement(){return e.placement},get show(){return s()},get menuElement(){return n()},get toggleElement(){return p()}};b(()=>{n()&&s&&d(()=>n().contains(document.activeElement))});const B=()=>{p()&&p().focus&&p().focus()},U=()=>{const o=a();g(null);let r=e.focusFirstItemOnShow;if(r==null&&(r=n()&&O(n())?"keyboard":!1),r===!1||r==="keyboard"&&!/^key.+$/.test(o))return;const l=N(n(),e.itemSelector)[0];l&&l.focus&&l.focus()};b(()=>{s()?U():E()&&(d(!1),B())});const M=(o,r)=>{if(!n())return null;const l=N(n(),e.itemSelector);let i=l.indexOf(o)+r;return i=Math.max(0,Math.min(i,l.length)),l[i]},R=o=>{const{key:r}=o,l=o.target,i=n()?.contains(l),W=p()?.contains(l);if(/input|textarea/i.test(l.tagName)&&(r===" "||r!=="Escape"&&i)||!i&&!W||r==="Tab"&&(!n()||!s))return;g(o.type);const x={originalEvent:o,source:o.type};switch(r){case"ArrowUp":{const u=M(l,-1);u&&u.focus&&u.focus(),o.preventDefault();return}case"ArrowDown":if(o.preventDefault(),!s)c(!0,x);else{const u=M(l,1);u&&u.focus&&u.focus()}return;case"Tab":V(document,"keyup",u=>{(u.key==="Tab"&&!u.target||!n()?.contains(u.target))&&c(!1,x)},{once:!0});break;case"Escape":r==="Escape"&&(o.preventDefault(),o.stopPropagation()),c(!1,x);break}};return document.addEventListener("keydown",R),Q(()=>document.removeEventListener("keydown",R)),S(P.Provider,{value:v,get children(){return S(D.Provider,{value:q,get children(){return e.children}})}})}C.displayName="Dropdown";C.Menu=T;C.Toggle=H;C.Item=$;export{D,ae as a,ue as b,C as c,ie as u};
