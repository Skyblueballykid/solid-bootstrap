import{d as l,e as r,f as u,g as v,n as R,y as S,a as n,P as j,S as D}from"./vendor.e0c45427.js";import{c as H,r as M,m as T,u as W,a as k}from"./store.b4ef7dcb.js";import{z}from"./index.f11198c3.js";const A=e=>{const[o,m]=l(),[E,h]=l(),[a,i]=l(!e.show),d=z({get ref(){return e.container}}),[w,x]=H({}),f=e.transition,s=r(()=>!!(e.show||e.transition&&!a()));u(()=>{x(M(T({enabled:s(),placement:e.placement,enableEvents:s(),containerPadding:e.containerPadding||5,flip:e.flip,offset:e.offset,arrowElement:E(),popperConfig:e.popperConfig??{}})))});const t=W(e.target,o,w);u(()=>{e.show?a()&&i(!1):!e.transition&&!a()&&i(!0)});const C=(...c)=>{i(!0),e.onExited&&e.onExited(...c)};v(()=>{o()&&k(o,e.onHide,{get disabled(){return!e.rootClose||e.rootCloseDisabled||!e.show},get clickTrigger(){return e.rootCloseEvent}})});const b=r(()=>({...t()?.attributes.popper,style:t()?.styles.popper,ref:m})),P=r(()=>({...t()?.attributes.arrow,style:t()?.styles.arrow,ref:h})),y=r(()=>({popper:t(),placement:e.placement,show:!!e.show})),O=R(()=>e.children)(),g=()=>O(b,P,y);return(()=>{const c=S(()=>!!d(),!0);return n(D,{get when(){return c()&&s()},get children(){return n(j,{get mount(){return d()},get children(){return f?n(f,{appear:!0,get in(){return e.show},get onExit(){return e.onExit},get onExiting(){return e.onExiting},onExited:C,get onEnter(){return e.onEnter},get onEntering(){return e.onEntering},get onEntered(){return e.onEntered},get children(){return n(g,{})}}):n(g,{})}})}})})()};A.displayName="Overlay";export{A as O};
