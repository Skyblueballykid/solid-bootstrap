import{$ as W,O as h,n as w,m as b,v as A,p as y,F as Y,g as L,a4 as N,V as D,a5 as z,Y as F,a6 as O,a7 as G,c as P,D as J,a8 as Q,H as X,a9 as K,aa as Z}from"./vendor.b0d12bc4.js";import{c as _,r as ee,m as te,u as ne,a as oe}from"./store.b6be1707.js";import{u as re}from"./ssr.9c861c6c.js";const se=W(null);var S=se;const ae=()=>{};function le(t={}){const e=h(S),[s,c]=w(),[n,f]=w(!1),[p,m]=_({}),a=b({fixed:!1,popperConfig:{},usePopper:!!e},t),g=A(()=>e?.show==null?!!a.show:e.show);y(()=>{g()&&!n()&&f(!0)}),Y(()=>{m(ee(te({placement:a.placement||e?.placement||"bottom-start",enabled:a.usePopper??!!e,enableEvents:a.enableEventListeners==null?g():a.enableEventListeners,offset:a.offset,flip:a.flip,fixed:a.fixed,arrowElement:s(),popperConfig:a.popperConfig})))});const E=k=>{e?.toggle(!1,k)},d=ne(()=>e?.toggleElement,()=>e?.menuElement,p);return y(()=>{e?.menuElement&&oe(()=>e.menuElement,E,{get clickTrigger(){return a.rootCloseEvent},get disabled(){return!g()}})}),[b({get ref(){return e?.setMenu||ae},get style(){return d()?.styles.popper},get"aria-labelledby"(){return e?.toggleElement?.id}},d()?.attributes.popper??{}),{get show(){return g()},get placement(){return e?.placement},get hasShown(){return n()},get toggle(){return e?.toggle},get popper(){return a.usePopper?d():null},get arrowProps(){return a.usePopper?{ref:c,...d()?.attributes.arrow,style:d()?.styles.arrow}:{}}}]}const ce={usePopper:!0};function T(t){const[e,s]=L(t,["children"]),[c,n]=le(s);return()=>e.children(c,n)}T.displayName="DropdownMenu";T.defaultProps=ce;const $=t=>t.getAttribute("role")?.toLowerCase()==="menu",ue=()=>{};function ie(){const t=re(),e=h(S);return[{id:t,get ref(){return e.setToggle||ue},onClick:c=>{e.toggle(!e.show,c)},get"aria-expanded"(){return!!e.show},get"aria-haspopup"(){return e.menuElement&&$(e.menuElement)?!0:void 0}},{get show(){return e.show},get toggle(){return e.toggle}}]}function H({children:t}){const[e,s]=ie();return()=>t(e,s)}H.displayName="DropdownToggle";function pe(t){const e=h(D),s=h(z),{activeKey:c}=s||{},n=F(t.key,t.href),f=A(()=>t.active==null&&t.key!=null?F(c)===n:t.active);return[{onClick:m=>{if(t.disabled)return;let a=O(t.onClick,m);e&&!a.isPropagationStopped&&e(n,m)},get"aria-disabled"(){return t.disabled||void 0},get"aria-selected"(){return f()},[N("dropdown-item")]:""},{get isActive(){return f()}}]}const j=t=>{const[e,s]=L(b({as:G},t),["eventKey","disabled","onClick","active","as"]),[c]=pe({get key(){return e.eventKey},get href(){return s.href},get disabled(){return e.disabled},get onClick(){return e.onClick},get active(){return e.active}});return P(J,b({get component(){return e.as}},s,c))};j.displayName="DropdownItem";function C(t){const e=b({itemSelector:`* [${N("dropdown-item")}]`,placement:"bottom-start"},t),[s,c]=Q(()=>e.show,()=>e.defaultShow,e.onToggle),[n,f]=w(),[p,m]=w(),[a,g]=w(null),[E,d]=w(!1),I=h(D),v=(o,r,l=r?.type)=>{c(o,{originalEvent:r,source:l})},k=(o,r)=>{O(i=>{e.onSelect?.(o,i),v(!1,i,"select")},r).isPropagationStopped||I?.(o,r)},q={toggle:v,setMenu:f,setToggle:m,get placement(){return e.placement},get show(){return s()},get menuElement(){return n()},get toggleElement(){return p()}};y(()=>{n()&&s&&d(()=>n().contains(document.activeElement))});const B=()=>{p()&&p().focus&&p().focus()},U=()=>{const o=a();g(null);let r=e.focusFirstItemOnShow;if(r==null&&(r=n()&&$(n())?"keyboard":!1),r===!1||r==="keyboard"&&!/^key.+$/.test(o))return;const l=K(n(),e.itemSelector)[0];l&&l.focus&&l.focus()};y(()=>{s()?U():E()&&(d(!1),B())});const M=(o,r)=>{if(!n())return null;const l=K(n(),e.itemSelector);let i=l.indexOf(o)+r;return i=Math.max(0,Math.min(i,l.length)),l[i]},R=o=>{const{key:r}=o,l=o.target,i=n()?.contains(l),V=p()?.contains(l);if(/input|textarea/i.test(l.tagName)&&(r===" "||r!=="Escape"&&i)||!i&&!V||r==="Tab"&&(!n()||!s))return;g(o.type);const x={originalEvent:o,source:o.type};switch(r){case"ArrowUp":{const u=M(l,-1);u&&u.focus&&u.focus(),o.preventDefault();return}case"ArrowDown":if(o.preventDefault(),!s)c(!0,x);else{const u=M(l,1);u&&u.focus&&u.focus()}return;case"Tab":Z(document,"keyup",u=>{(u.key==="Tab"&&!u.target||!n()?.contains(u.target))&&c(!1,x)},{once:!0});break;case"Escape":r==="Escape"&&(o.preventDefault(),o.stopPropagation()),c(!1,x);break}};return document.addEventListener("keydown",R),X(()=>document.removeEventListener("keydown",R)),P(D.Provider,{value:k,get children(){return P(S.Provider,{value:q,get children(){return e.children}})}})}C.displayName="Dropdown";C.Menu=T;C.Toggle=H;C.Item=j;export{C as D,le as a,ie as b,S as c,pe as u};
