import{Z as Q,K as h,k as w,m as y,q as A,o as C,B as U,h as L,a2 as N,Q as D,a3 as Z,W as K,a4 as F,a5 as z,c as P,D as J,a6 as V,G as X,a7 as O,a8 as Y}from"./vendor.bb4e937c.js";import{c as _,r as ee,m as te,u as ne,a as oe}from"./store.78f0eb45.js";import{u as re}from"./ssr.4f3e9591.js";const se=Q(null);var S=se;const ae=()=>{};function le(t={}){const e=h(S),[o,c]=w(),[n,f]=w(!1),[p,m]=_({}),a=y({fixed:!1,popperConfig:{},usePopper:!!e},t),g=A(()=>e?.show==null?!!a.show:e.show);C(()=>{g()&&!n()&&f(!0)}),U(()=>{m(ee(te({placement:a.placement||e?.placement||"bottom-start",enabled:a.usePopper??!!e,enableEvents:a.enableEventListeners==null?g():a.enableEventListeners,offset:a.offset,flip:a.flip,fixed:a.fixed,arrowElement:o(),popperConfig:a.popperConfig})))});const E=v=>{e?.toggle(!1,v)},d=ne(()=>e?.toggleElement,()=>e?.menuElement,p);return C(()=>{e?.menuElement&&oe(()=>e.menuElement,E,{get clickTrigger(){return a.rootCloseEvent},get disabled(){return!g()}})}),[y({get ref(){return e?.setMenu||ae},get style(){return d()?.styles.popper},get"aria-labelledby"(){return e?.toggleElement?.id}},d()?.attributes.popper??{}),{get show(){return g()},get placement(){return e?.placement},get hasShown(){return n()},get toggle(){return e?.toggle},get popper(){return a.usePopper?d():null},get arrowProps(){return a.usePopper?{ref:c,...d()?.attributes.arrow,style:d()?.styles.arrow}:{}}}]}const ce={usePopper:!0};function T(t){const[e,o]=L(t,["children"]),[c,n]=le(o);return()=>e.children(c,n)}T.displayName="DropdownMenu";T.defaultProps=ce;const $=t=>t.getAttribute("role")?.toLowerCase()==="menu",ue=()=>{};function ie(){const t=re(),e=h(S);return[{id:t,get ref(){return e.setToggle||ue},onClick:c=>{e.toggle(!e.show,c)},get"aria-expanded"(){return!!e.show},get"aria-haspopup"(){return e.menuElement&&$(e.menuElement)?!0:void 0}},{get show(){return e.show},get toggle(){return e.toggle}}]}function j({children:t}){const[e,o]=ie();return()=>t(e,o)}j.displayName="DropdownToggle";function pe(t){const e=h(D),o=h(Z),{activeKey:c}=o||{},n=K(t.key,t.href),f=A(()=>t.active==null&&t.key!=null?K(c)===n:t.active);return[{onClick:m=>{if(t.disabled)return;let a=F(t.onClick,m);e&&!a.isPropagationStopped&&e(n,m)},get"aria-disabled"(){return t.disabled||void 0},get"aria-selected"(){return f()},[N("dropdown-item")]:""},{get isActive(){return f()}}]}const H=t=>{const[e,o]=L(y({as:z},t),["eventKey","disabled","onClick","active","as"]),[c]=pe({get key(){return e.eventKey},get href(){return o.href},get disabled(){return e.disabled},get onClick(){return e.onClick},get active(){return e.active}});return P(J,y({get component(){return e.as}},o,c,{get children(){return o.children}}))};H.displayName="DropdownItem";function b(t){const e=y({itemSelector:`* [${N("dropdown-item")}]`,placement:"bottom-start"},t),[o,c]=V(()=>e.show,()=>e.defaultShow,e.onToggle),[n,f]=w(),[p,m]=w(),[a,g]=w(null),[E,d]=w(!1),I=h(D),k=(r,s,l=s?.type)=>{c(r,{originalEvent:s,source:l})},v=(r,s)=>{F(i=>{e.onSelect?.(r,i),k(!1,i,"select")},s).isPropagationStopped||I?.(r,s)},q={toggle:k,setMenu:f,setToggle:m,get placement(){return e.placement},get show(){return o()},get menuElement(){return n()},get toggleElement(){return p()}};C(()=>{n()&&o&&d(()=>n().contains(document.activeElement))});const B=()=>{p()&&p().focus&&p().focus()},W=()=>{const r=a();g(null);let s=e.focusFirstItemOnShow;if(s==null&&(s=n()&&$(n())?"keyboard":!1),s===!1||s==="keyboard"&&!/^key.+$/.test(r))return;const l=O(n(),e.itemSelector)[0];l&&l.focus&&l.focus()};C(()=>{o()?W():E()&&(d(!1),B())});const M=(r,s)=>{if(!n())return null;const l=O(n(),e.itemSelector);let i=l.indexOf(r)+s;return i=Math.max(0,Math.min(i,l.length)),l[i]},R=r=>{const{key:s}=r,l=r.target,i=n()?.contains(l),G=p()?.contains(l);if(/input|textarea/i.test(l.tagName)&&(s===" "||s!=="Escape"&&i)||!i&&!G||s==="Tab"&&(!n()||!o))return;g(r.type);const x={originalEvent:r,source:r.type};switch(s){case"ArrowUp":{const u=M(l,-1);u&&u.focus&&u.focus(),r.preventDefault();return}case"ArrowDown":if(r.preventDefault(),!o)c(!0,x);else{const u=M(l,1);u&&u.focus&&u.focus()}return;case"Tab":Y(document,"keyup",u=>{(u.key==="Tab"&&!u.target||!n()?.contains(u.target))&&c(!1,x)},{once:!0});break;case"Escape":s==="Escape"&&(r.preventDefault(),r.stopPropagation()),c(!1,x);break}};return document.addEventListener("keydown",R),X(()=>document.removeEventListener("keydown",R)),P(D.Provider,{value:v,get children(){return P(S.Provider,{value:q,get children(){return e.children}})}})}b.displayName="Dropdown";b.Menu=T;b.Toggle=j;b.Item=H;export{b as D,le as a,ie as b,S as c,pe as u};
